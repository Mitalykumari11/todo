{% extends 'base.html' %}
{% block body %}
<div class="container">

  <form method="POST" autocomplete="off" action="/submit">
    <label for="categories" class="form-label">Category</label>
    <select class="w3-select" name="categories" required>
      <option value="" disabled selected>Choose your option</option>
      <option value="Work">Work</option>
      <option value="Personal">Personal</option>
      <option value="Other">Other</option>
    </select>
    <label for="priority" class="form-label">Priority</label>
    <select class="w3-select" name="priority" required>

      <option value="Low">Low</option>
      <option value="Medium">Medium</option>
      <option value="High">High</option>
    </select>

    <br>
    <label for="todotitle" class="form-label">Todo title</label>
    <input type="text" class="form-control" name="todotitle" id="todotitle" aria-describedby="title" required>
    <br>
    <label for="description" class="form-label">Description</label>
    <input type="text" class="form-control" name="description">
    <br>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <form class="d-flex" role="search" method="GET" autocomplete="off">
    <div class="container">
      <label for="priority" class="form-label" id="priority">Priority</label>
      <select class="w3-select" name="priority">

        {% if priority=='Low' %}
        <option value="Low" style="text-transform: capitalize;" class="badge-green" selected>Low</option>
        {% else %}
        <option value="Low" class="badge-green">Low</option>
        {% endif %}

        {% if priority=='Medium' %}
        <option value="Medium" style="text-transform: capitalize;" selected>Medium</option>
        {% else %}
        <option value="Medium">Medium</option>
        {% endif %}

        {% if priority=='High' %}
        <option value="High" style="text-transform: capitalize;" selected>High</option>
        {% else %}
        <option value="High">High</option>
        {% endif %}

      </select>

    </div>
    <label for="categories" class="form-label" id="category">Category</label>
    <select class="w3-select" name="category">
      <option value="">Choose your option</option>
      {% if category=='Work' %}
      <option value="Work" style="text-transform: capitalize;" selected>Work</option>
      {% else %}
      <option value="Work" style="text-transform: capitalize;">Work</option>
      {% endif %}

      {% if category=='Personal' %}
      <option value="Personal" style="text-transform: capitalize;" selected>Personal</option>
      {% else %}
      <option value="Personal" style="text-transform: capitalize;">Personal</option>
      {% endif %}

      {% if category=='Other' %}
      <option value="Other" style="text-transform: capitalize;" selected>Other</option>
      {% else %}
      <option value="Other" style="text-transform: capitalize;">Other</option>
      {% endif %}

    </select>

    <input class="form-control me-2" type="search" name="title" placeholder="Search" value="{{title}}"
      aria-label="Search" />
    <button class="btn btn-outline-success" type="submit">Search</button>
  </form>
</div>




<div class="container">
  <table class="table">
    <thead>


      <tr>
        <th scope="col">Categories</th>
        <th scope="col">Priority</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Time</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for item in todos%}
      <tr>
        <td>{{item[1]}}</td>
        <td>
          {% if item[2] == "Low" %}
            <span class="badge bg-success">Low</span>
          {% elif item[2] == "Medium" %}
            <span class="badge bg-warning text-dark">Medium</span>
          {% elif item[2] == "High" %}
            <span class="badge bg-danger">High</span>
          {% else %}
            <span class="badge bg-secondary">{{ item[2] }}</span>
          {% endif %}
        </td>
        <td>{{item[3]}}</td>
        <td>{{item[4]}}</td>
        <td>{{item[5]}}</td>
        <td>
          <a href="/delete/{{item[0]}}" type="button" class="btn btn-primary">Delete</a>
          <a href="/update/{{item[0]}}" type="button" class="btn btn-primary">Update</a>
        </td>
      </tr>
      {% endfor %}

    </tbody>
  </table>




</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

{% endblock body %}